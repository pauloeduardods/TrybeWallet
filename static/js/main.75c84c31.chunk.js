(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{45:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a.n(l),o=a(7),c=a(27),s=(a(45),a(2)),u=a(17),d=a(5),m=a(6),p=a(4),b=a(9),h=a(8),f=a(3),E=a(15),g=a.n(E),v=a(20),y=function(){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(e){return e.USDT&&delete e.USDT,Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},x="SET_USER_EMAIL",j="SET_COINS",O="SET_EXPENDITURE",w="DELETE_EXPENDITURE",k="SET_CUR_EXPENDITURE",C="EDIT_EXPENDITURE",N=function(e){return{type:j,payload:e}},S=a(18),T=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={email:"",password:"",isEnable:!1},e.formValidator=e.formValidator.bind(Object(p.a)(e)),e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.submitForm=e.submitForm.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"formValidator",value:function(){var e=this.state,t=e.email,a=e.password,n=/^[a-z0-9.]+@[a-z0-9]+\.[a-z]/i.test(t)&&a.length>=6;this.setState({isEnable:n})}},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,r=a.value;this.setState(Object(u.a)({},n,r),(function(){return t.formValidator()}))}},{key:"submitForm",value:function(e){var t=this.state.email,a=this.props,n=a.history,r=a.setEmailGlobal;e.preventDefault(),r(t),n.push("/carteira")}},{key:"render",value:function(){var e=this.state.isEnable;return r.a.createElement("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},r.a.createElement("div",{className:"max-w-md w-full space-y-8"},r.a.createElement("form",{className:"mt-8 space-y-6",onSubmit:this.submitForm},r.a.createElement("div",{className:"rounded-md shadow-sm -space-y-px"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email-address",className:"sr-only"},"Email"),r.a.createElement("input",{id:"email-address",name:"email",type:"email","data-testid":"email-input",placeholder:"Email",required:!0,autoComplete:"email",onChange:this.handleChange,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password",className:"sr-only"},"Senha"),r.a.createElement("input",{id:"password",name:"password",type:"password","data-testid":"password-input",autoComplete:"current-password",placeholder:"Senha",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",onChange:this.handleChange}))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:!e},r.a.createElement("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3"},e?null:r.a.createElement(S.a,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})),"Entrar")))))}}]),a}(r.a.Component),D=Object(o.b)(null,(function(e){return{setEmailGlobal:function(t){return e(function(e){return{type:x,payload:e}}(t))}}}))(T),F=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).getTotal=e.getTotal.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"getTotal",value:function(){var e=this.props.expenses;return Number(e.reduce((function(e,t){return e+Number(t.value)*Number(t.exchangeRates[t.currency].ask)}),0)).toFixed(2)}},{key:"render",value:function(){var e=this.props.email;return r.a.createElement("header",null,r.a.createElement("h1",{"data-testid":"email-field"},e),r.a.createElement("h2",{"data-testid":"total-field"},this.getTotal()),r.a.createElement("h2",{"data-testid":"header-currency-field"},"BRL"))}}]),a}(r.a.Component),R=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(F),I=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.value,n=e.label,l=e.options,i=e.onChange;return r.a.createElement("label",{htmlFor:t},n,r.a.createElement("select",{onChange:i,id:t,value:a},l.map((function(e){return r.a.createElement("option",{key:e},e)}))))}}]),a}(r.a.Component),P=I,B={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},z=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={forms:B,isEditing:!1},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.submit=e.submit.bind(Object(p.a)(e)),e.renderInputs=e.renderInputs.bind(Object(p.a)(e)),e.renderSelect=e.renderSelect.bind(Object(p.a)(e)),e.renderSubmitButton=e.renderSubmitButton.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.id,n=t.value;this.setState((function(e){return{forms:Object(f.a)(Object(f.a)({},e.forms),{},Object(u.a)({},a,n))}}))}},{key:"submit",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,r,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=this.props,n=a.setExpenditure,r=a.editExpenditure,l=this.state,i=l.forms,!l.isEditing){e.next=5;break}return e.abrupt("return",r(i));case 5:n(i),this.setState({forms:B});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderInputs",value:function(){var e=this.state.forms,t=e.value,a=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"value"},"Valor",r.a.createElement("input",{type:"number",id:"value",value:t,placeholder:"Valor",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description"},"Descri\xe7\xe3o",r.a.createElement("input",{type:"text",id:"description",value:a,placeholder:"Descri\xe7\xe3o",onChange:this.handleChange})))}},{key:"renderSelect",value:function(){var e=this.props.coins,t=this.state.forms,a=t.currency,n=t.method,l=t.tag;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{id:"currency",label:"Moeda",value:a,options:e,onChange:this.handleChange}),r.a.createElement(P,{id:"method",label:"M\xe9todo de pagamento",value:n,onChange:this.handleChange,options:["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"]}),r.a.createElement(P,{id:"tag",label:"Tag",value:l,onChange:this.handleChange,options:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"]}))}},{key:"renderSubmitButton",value:function(){return this.state.isEditing?r.a.createElement("input",{type:"submit",value:"Editar despesa"}):r.a.createElement("input",{type:"submit",value:"Adicionar despesa"})}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submit},this.renderInputs(),this.renderSelect(),this.renderSubmitButton())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.isEditing,n=e.curExpenditure;return a&&a!==t.isEditing?{forms:n,isEditing:a}:a||a===t.isEditing?null:{forms:B,isEditing:a}}}]),a}(r.a.Component);z.defaultProps={isEditing:!1,curExpenditure:{}};var U=Object(o.b)((function(e){var t=e.wallet;return{coins:t.currencies,isEditing:t.isEditing,curExpenditure:t.curExpenditure}}),(function(e){return{setExpenditure:function(t){return e(function(e){return function(){var t=Object(v.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:n=t.sent,a({type:O,payload:Object(f.a)(Object(f.a)({},e),{},{exchangeRates:n})});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editExpenditure:function(t){return e(function(e){return{type:C,payload:e}}(t))}}}))(z),V=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).deleteExpense=e.deleteExpense.bind(Object(p.a)(e)),e.editExpense=e.editExpense.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"deleteExpense",value:function(){var e=this.props,t=e.id;(0,e.deleteById)(t)}},{key:"editExpense",value:function(){var e=this.props,t=e.id;(0,e.setCurExpense)(t)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"button",value:"Deletar","data-testid":"delete-btn",onClick:this.deleteExpense}),r.a.createElement("input",{type:"button",value:"Editar","data-testid":"edit-btn",onClick:this.editExpense}))}}]),a}(r.a.Component),M=Object(o.b)(null,(function(e){return{deleteById:function(t){return e(function(e){return{type:w,payload:e}}(t))},setCurExpense:function(t){return e(function(e){return{type:k,payload:e}}(t))}}}))(V),_=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).renderTableRow=e.renderTableRow.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"renderTableRow",value:function(e){var t=e.id,a=e.value,n=e.description,l=e.currency,i=e.method,o=e.tag,c=e.exchangeRates;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,a),r.a.createElement("td",null,c[l].name.replace("/Real Brasileiro","")),r.a.createElement("td",null,Number(c[l].ask).toFixed(2)),r.a.createElement("td",null,Number(c[l].ask)*Number(a)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement(M,{id:t})))}},{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,e.map(this.renderTableRow)))}}]),a}(r.a.Component),W=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))(_),q=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getCoins)()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,null),r.a.createElement(U,null),r.a.createElement(W,null))}}]),a}(r.a.Component),A=Object(o.b)(null,(function(e){return{getCoins:function(){return e(function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:a=e.sent,t(N(Object.keys(a)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(q);a(31),a(51);function L(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},r.a.createElement("div",{className:"max-w-md w-full space-y-8"},r.a.createElement("div",null,r.a.createElement("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),r.a.createElement("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Sign in to your account"),r.a.createElement("p",{className:"mt-2 text-center text-sm text-gray-600"},"Or"," ",r.a.createElement("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500"},"start your 14-day free trial"))),r.a.createElement("form",{className:"mt-8 space-y-6",action:"#",method:"POST"},r.a.createElement("input",{type:"hidden",name:"remember",defaultValue:"true"}),r.a.createElement("div",{className:"rounded-md shadow-sm -space-y-px"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email-address",className:"sr-only"},"Email address"),r.a.createElement("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password",className:"sr-only"},"Password"),r.a.createElement("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"}))),r.a.createElement("div",{className:"flex items-center justify-between"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),r.a.createElement("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900"},"Remember me")),r.a.createElement("div",{className:"text-sm"},r.a.createElement("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500"},"Forgot your password?"))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},r.a.createElement("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3"},r.a.createElement(S.a,{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})),"Sign in"))))))}a(47);var X=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:D}),r.a.createElement(s.a,{exact:!0,path:"/carteira",component:A}),r.a.createElement(s.a,{exact:!0,path:"/teste",component:L}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(14),J=a(35),$=a(36),H={email:""},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;return t.type===x?Object(f.a)(Object(f.a)({},e),{},{email:t.payload}):e},Q=a(25),Y={currencies:[],expenses:[],isEditing:!1,curExpenditure:{}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(f.a)(Object(f.a)({},e),{},{currencies:t.payload});case O:return Object(f.a)(Object(f.a)({},e),{},{isEditing:!1,expenses:[].concat(Object(Q.a)(e.expenses),[Object(f.a)({id:e.expenses.length},t.payload)])});case w:return Object(f.a)(Object(f.a)({},e),{},{isEditing:!1,expenses:e.expenses.filter((function(e){return e.id!==t.payload}))});case k:return Object(f.a)(Object(f.a)({},e),{},{isEditing:!0,curExpenditure:e.expenses.find((function(e){return e.id===t.payload}))});case C:return Object(f.a)(Object(f.a)({},e),{},{isEditing:!1,curExpenditure:{},expenses:e.expenses.reduce((function(e,a){var n=t.payload;return a.id===n.id?[].concat(Object(Q.a)(e),[n]):[].concat(Object(Q.a)(e),[a])}),[])});default:return e}},ee=Object(G.combineReducers)({user:K,wallet:Z}),te=Object(G.createStore)(ee,Object($.composeWithDevTools)(Object(G.applyMiddleware)(J.a)));i.a.render(r.a.createElement(o.a,{store:te},r.a.createElement(c.a,{basename:"/TrybeWallet"},r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.75c84c31.chunk.js.map